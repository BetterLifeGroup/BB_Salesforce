<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>Business_Rules_Engine_LT</name>
        <label>Business Rules Engine LT</label>
        <locationX>380</locationX>
        <locationY>923</locationY>
        <actionName>dmPAorBondAnswerIDs</actionName>
        <actionType>runDecisionMatrix</actionType>
        <connector>
            <targetReference>New_Bond_PA_Opportunity</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>NextStep</name>
            <value>
                <elementReference>v_A2</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>BuyingCapacity</name>
            <value>
                <elementReference>v_A1</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>EmploymentStatus</name>
            <value>
                <elementReference>v_A3</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>CreditStatus</name>
            <value>
                <elementReference>v_A4</elementReference>
            </value>
        </inputParameters>
        <nameSegment>dmPAorBondAnswerIDs</nameSegment>
        <outputParameters>
            <assignToReference>outResult</assignToReference>
            <name>Result</name>
        </outputParameters>
        <outputParameters>
            <assignToReference>outStage</assignToReference>
            <name>Stage</name>
        </outputParameters>
        <outputParameters>
            <assignToReference>outStatus</assignToReference>
            <name>Status</name>
        </outputParameters>
        <outputParameters>
            <assignToReference>outWorkflowDescription</assignToReference>
            <name>WorkflowDescription</name>
        </outputParameters>
        <outputParameters>
            <assignToReference>outApplicantstatus</assignToReference>
            <name>ApplicantStatus</name>
        </outputParameters>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <apiVersion>59.0</apiVersion>
    <assignments>
        <name>Assign_Bond_Applicant_Record_Type_ID</name>
        <label>Assign Bond Applicant Record Type ID</label>
        <locationX>1590</locationX>
        <locationY>1463</locationY>
        <assignmentItems>
            <assignToReference>v_BondApplicantRecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Record_Types.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Record_Types</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Bond_Application_Record_Type_ID</name>
        <label>Assign Bond Application Record Type ID</label>
        <locationX>1062</locationX>
        <locationY>1463</locationY>
        <assignmentItems>
            <assignToReference>v_BondApplicationRecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Record_Types.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Record_Types</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Bond_Opp_Record_Type_ID</name>
        <label>Assign Bond Opp Record Type ID</label>
        <locationX>534</locationX>
        <locationY>1463</locationY>
        <assignmentItems>
            <assignToReference>v_BondOppRecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Record_Types.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Record_Types</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_PA_Applicant_Record_Type_ID</name>
        <label>Assign PA Applicant Record Type ID</label>
        <locationX>1326</locationX>
        <locationY>1463</locationY>
        <assignmentItems>
            <assignToReference>v_PAApplicantRecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Record_Types.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Record_Types</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_PA_Application_Record_Type_ID</name>
        <label>Assign PA Application Record Type ID</label>
        <locationX>798</locationX>
        <locationY>1463</locationY>
        <assignmentItems>
            <assignToReference>v_PAApplicationRecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Record_Types.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Record_Types</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_PA_Opp_Record_Type_ID</name>
        <label>Assign PA Opp Record Type ID</label>
        <locationX>270</locationX>
        <locationY>1463</locationY>
        <assignmentItems>
            <assignToReference>v_PAOppRecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Record_Types.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Record_Types</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AssignA1</name>
        <label>AssignA1</label>
        <locationX>468</locationX>
        <locationY>647</locationY>
        <assignmentItems>
            <assignToReference>v_A1</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>lp_Assign_Answer.Answer_ID__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>lp_Assign_Answer</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AssignA2</name>
        <label>AssignA2</label>
        <locationX>732</locationX>
        <locationY>647</locationY>
        <assignmentItems>
            <assignToReference>v_A2</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>lp_Assign_Answer.Answer_ID__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>lp_Assign_Answer</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AssignA3</name>
        <label>AssignA3</label>
        <locationX>996</locationX>
        <locationY>647</locationY>
        <assignmentItems>
            <assignToReference>v_A3</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>lp_Assign_Answer.Answer_ID__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>lp_Assign_Answer</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AssignA4</name>
        <label>AssignA4</label>
        <locationX>1260</locationX>
        <locationY>647</locationY>
        <assignmentItems>
            <assignToReference>v_A4</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>lp_Assign_Answer.Answer_ID__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>lp_Assign_Answer</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Bond_or_PA</name>
        <label>Bond or PA?</label>
        <locationX>182</locationX>
        <locationY>2171</locationY>
        <defaultConnector>
            <targetReference>Link_PA_Opp_to_Gen_Opp</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Link PA Opp</defaultConnectorLabel>
        <rules>
            <name>Link_Bond_Opp</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>outResult</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Bond</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Link_Bond_Opp_to_Gen_Opp</targetReference>
            </connector>
            <label>Link Bond Opp</label>
        </rules>
    </decisions>
    <decisions>
        <name>New_Bond_PA_Opportunity</name>
        <label>New Bond / PA Opportunity?</label>
        <locationX>380</locationX>
        <locationY>1031</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>New_Opportunity</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>outResult</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Bond</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>outResult</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Pre_Approval_Opportunity</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Record_Types</targetReference>
            </connector>
            <label>New Opportunity</label>
        </rules>
    </decisions>
    <decisions>
        <name>QuestionID</name>
        <label>QuestionID</label>
        <locationX>996</locationX>
        <locationY>539</locationY>
        <defaultConnector>
            <targetReference>lp_Assign_Answer</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Q1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>lp_Assign_Answer.Question_ID__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>1.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>AssignA1</targetReference>
            </connector>
            <label>Q1</label>
        </rules>
        <rules>
            <name>Q2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>lp_Assign_Answer.Question_ID__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>2.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>AssignA2</targetReference>
            </connector>
            <label>Q2</label>
        </rules>
        <rules>
            <name>Q3</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>lp_Assign_Answer.Question_ID__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>3.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>AssignA3</targetReference>
            </connector>
            <label>Q3</label>
        </rules>
        <rules>
            <name>Q4</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>lp_Assign_Answer.Question_ID__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>4.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>AssignA4</targetReference>
            </connector>
            <label>Q4</label>
        </rules>
    </decisions>
    <decisions>
        <name>Which_Record_Type</name>
        <label>Which Record Type?</label>
        <locationX>1062</locationX>
        <locationY>1355</locationY>
        <defaultConnector>
            <targetReference>Loop_Record_Types</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>PA_Opp</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Loop_Record_Types.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Pre_Approval_Opportunity</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_PA_Opp_Record_Type_ID</targetReference>
            </connector>
            <label>PA Opp</label>
        </rules>
        <rules>
            <name>Bond_Opp</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Loop_Record_Types.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Bond</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Bond_Opp_Record_Type_ID</targetReference>
            </connector>
            <label>Bond Opp</label>
        </rules>
        <rules>
            <name>PA_Application</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Loop_Record_Types.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Pre_Approval_Application</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_PA_Application_Record_Type_ID</targetReference>
            </connector>
            <label>PA Application</label>
        </rules>
        <rules>
            <name>Bond_Application</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Loop_Record_Types.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Bond_Application</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Bond_Application_Record_Type_ID</targetReference>
            </connector>
            <label>Bond Application</label>
        </rules>
        <rules>
            <name>PA_Applicant</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Loop_Record_Types.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Pre_approval_Applicant</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_PA_Applicant_Record_Type_ID</targetReference>
            </connector>
            <label>PA Applicant</label>
        </rules>
        <rules>
            <name>Bond_Applicant</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Loop_Record_Types.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Bond_Applicant</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Bond_Applicant_Record_Type_ID</targetReference>
            </connector>
            <label>Bond Applicant</label>
        </rules>
    </decisions>
    <description>Flow Description: Triggers the Business Rule engine to create relevant opportunities.
No front-end access, record triggered.</description>
    <environments>Default</environments>
    <formulas>
        <name>f_ApplicantRecordTypeId</name>
        <dataType>String</dataType>
        <expression>IF({!outResult} = &quot;Bond&quot;, {!v_BondApplicantRecordTypeId}, {!v_PAApplicantRecordTypeId})</expression>
    </formulas>
    <formulas>
        <name>f_ApplicantRecordTypeName</name>
        <dataType>String</dataType>
        <expression>IF( {!outResult} = &quot;Bond&quot;, &quot;Bond_Applicant&quot;, &quot;Pre_Approval_Applicant&quot;)</expression>
    </formulas>
    <formulas>
        <name>f_ApplicationRecordTypeId</name>
        <dataType>String</dataType>
        <expression>IF({!outResult}= &quot;Bond&quot;, {!v_BondApplicationRecordTypeId}, {!v_PAApplicationRecordTypeId})</expression>
    </formulas>
    <formulas>
        <name>f_ApplicationRecordTypeName</name>
        <dataType>String</dataType>
        <expression>IF( {!outResult} = &quot;Bond&quot;, &quot;Bond_Application&quot;, &quot;Pre_Approval_Application&quot;)</expression>
    </formulas>
    <formulas>
        <name>f_CreatedApplicationName</name>
        <dataType>String</dataType>
        <expression>{!$Record.Account.FirstName} + &quot; &quot; + {!$Record.Account.LastName}  + &quot; - Loan Application - &quot; + CASE( TEXT(MONTH(TODAY())),
&quot;1&quot;, &quot;January&quot;,
&quot;2&quot;, &quot;February&quot;,
&quot;3&quot;, &quot;March&quot;,
&quot;4&quot;, &quot;April&quot;,
&quot;5&quot;, &quot;May&quot;,
&quot;6&quot;, &quot;June&quot;,
&quot;7&quot;, &quot;July&quot;,
&quot;8&quot;, &quot;August&quot;,
&quot;9&quot;, &quot;September&quot;,
&quot;10&quot;, &quot;October&quot;,
&quot;11&quot;, &quot;November&quot;,
&quot;12&quot;, &quot;December&quot;,
&quot;None&quot;)
+ &quot; &quot; + TEXT(Year(TODAY()))</expression>
    </formulas>
    <formulas>
        <name>f_CreatedOppName</name>
        <dataType>String</dataType>
        <expression>{!$Record.Account.FirstName} + &quot; &quot; + {!$Record.Account.LastName}  + &quot; - &quot; + IF({!outResult} = &quot;Bond&quot;, &quot;Bond&quot; , &quot;Pre-Approval&quot;)+ &quot; - &quot; + CASE( TEXT(MONTH(TODAY())),
&quot;1&quot;, &quot;January&quot;,
&quot;2&quot;, &quot;February&quot;,
&quot;3&quot;, &quot;March&quot;,
&quot;4&quot;, &quot;April&quot;,
&quot;5&quot;, &quot;May&quot;,
&quot;6&quot;, &quot;June&quot;,
&quot;7&quot;, &quot;July&quot;,
&quot;8&quot;, &quot;August&quot;,
&quot;9&quot;, &quot;September&quot;,
&quot;10&quot;, &quot;October&quot;,
&quot;11&quot;, &quot;November&quot;,
&quot;12&quot;, &quot;December&quot;,
&quot;None&quot;)
+ &quot; &quot; + TEXT(Year(TODAY()))</expression>
    </formulas>
    <formulas>
        <name>f_OpportunityRecordTypeId</name>
        <dataType>String</dataType>
        <expression>IF({!outResult} = &quot;Bond&quot;, {!v_BondOppRecordTypeId}, {!v_PAOppRecordTypeId})</expression>
    </formulas>
    <interviewLabel>Triggered PA Bond Opportunity {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Triggered PA Bond Opportunity</label>
    <loops>
        <name>Loop_Record_Types</name>
        <label>Loop Record Types</label>
        <locationX>182</locationX>
        <locationY>1247</locationY>
        <collectionReference>Get_Record_Types</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Which_Record_Type</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Create_New_Opportunity</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>lp_Assign_Answer</name>
        <label>lp_AssignQNA_IDs</label>
        <locationX>380</locationX>
        <locationY>431</locationY>
        <collectionReference>GetQuestionIDS</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>QuestionID</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Business_Rules_Engine_LT</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>Create_New_Applicant</name>
        <label>Create New Applicant</label>
        <locationX>182</locationX>
        <locationY>2063</locationY>
        <connector>
            <targetReference>Bond_or_PA</targetReference>
        </connector>
        <inputAssignments>
            <field>ContactId</field>
            <value>
                <elementReference>Get_Applicant_Person_Account.PersonContactId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Email_Address__c</field>
            <value>
                <elementReference>Get_Applicant_Person_Account.PersonEmail</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>IsActive__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Is_Main_Applicant__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>LoanApplicationId</field>
            <value>
                <elementReference>v_NewApplicationId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Mobile_Phone_Number__c</field>
            <value>
                <elementReference>Get_Applicant_Person_Account.PersonMobilePhone</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>Get_Applicant_Person_Account.Name</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>f_ApplicantRecordTypeId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SourceOpportunity__c</field>
            <value>
                <elementReference>v_NewOppID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <elementReference>outApplicantstatus</elementReference>
            </value>
        </inputAssignments>
        <object>LoanApplicant</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>Create_New_Application</name>
        <label>Create New Application</label>
        <locationX>182</locationX>
        <locationY>1847</locationY>
        <assignRecordIdToReference>v_NewApplicationId</assignRecordIdToReference>
        <connector>
            <targetReference>Get_Applicant_Person_Account</targetReference>
        </connector>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>$Record.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>f_CreatedApplicationName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OpportunityId</field>
            <value>
                <elementReference>v_NewOppID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>f_ApplicationRecordTypeId</elementReference>
            </value>
        </inputAssignments>
        <object>ResidentialLoanApplication</object>
    </recordCreates>
    <recordCreates>
        <name>Create_New_Opportunity</name>
        <label>Create New Opportunity</label>
        <locationX>182</locationX>
        <locationY>1739</locationY>
        <assignRecordIdToReference>v_NewOppID</assignRecordIdToReference>
        <connector>
            <targetReference>Create_New_Application</targetReference>
        </connector>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>$Record.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Assignment_DateTime__c</field>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BLG_Campaign__c</field>
            <value>
                <elementReference>$Record.BLG_Campaign__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CloseDate</field>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ConsultantBranch__c</field>
            <value>
                <elementReference>$Record.ConsultantBranch__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ConsultantRegion__c</field>
            <value>
                <elementReference>$Record.ConsultantRegion__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ConsultantSubBranch__c</field>
            <value>
                <elementReference>$Record.ConsultantSubBranch__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>General_Opportunity__c</field>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>f_CreatedOppName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Notes__c</field>
            <value>
                <elementReference>outResult</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>$Record.OwnerId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>f_OpportunityRecordTypeId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>StageName</field>
            <value>
                <elementReference>outStage</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <elementReference>outStatus</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Wrap_Up_Reason__c</field>
            <value>
                <stringValue>Automated</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordCreates>
    <recordLookups>
        <name>Get_Applicant_Person_Account</name>
        <label>Get Applicant Person Account</label>
        <locationX>182</locationX>
        <locationY>1955</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Create_New_Applicant</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.AccountId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Record_Types</name>
        <label>Get Record Types</label>
        <locationX>182</locationX>
        <locationY>1139</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Loop_Record_Types</targetReference>
        </connector>
        <filterLogic>or</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Bond</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Pre_Approval_Opportunity</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Bond_Application</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Pre_Approval_Application</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Bond_Applicant</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Pre_Approval_Applicant</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>RecordType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>GetQuestionIDS</name>
        <label>GetQuestionIDS</label>
        <locationX>380</locationX>
        <locationY>323</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>lp_Assign_Answer</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>General_Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Question_And_Answer__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Link_Bond_Opp_to_Gen_Opp</name>
        <label>Link Bond Opp to Gen Opp</label>
        <locationX>50</locationX>
        <locationY>2279</locationY>
        <inputAssignments>
            <field>Bond_Opportunity__c</field>
            <value>
                <elementReference>v_NewOppID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Wrap_Up_Reason__c</field>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Link_PA_Opp_to_Gen_Opp</name>
        <label>Link PA Opp to Gen Opp</label>
        <locationX>314</locationX>
        <locationY>2279</locationY>
        <inputAssignments>
            <field>PreApprovalOpportunity__c</field>
            <value>
                <elementReference>v_NewOppID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Wrap_Up_Reason__c</field>
            <value>
                <stringValue>Automated</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <start>
        <locationX>254</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>GetQuestionIDS</targetReference>
        </connector>
        <doesRequireRecordChangedToMeetCriteria>true</doesRequireRecordChangedToMeetCriteria>
        <filterLogic>and</filterLogic>
        <filters>
            <field>automationMessage__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>AllQuestionsReceived</stringValue>
            </value>
        </filters>
        <object>Opportunity</object>
        <recordTriggerType>Update</recordTriggerType>
        <triggerType>RecordAfterSave</triggerType>
    </start>
    <status>Active</status>
    <variables>
        <name>OpportunityRecordType</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>outApplicantstatus</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>outResult</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>outStage</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>outStatus</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>outWorkflowDescription</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>v_A1</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>v_A2</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>v_A3</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>v_A4</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>v_BondApplicantRecordTypeId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>v_BondApplicationRecordTypeId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>v_BondOppRecordTypeId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>v_NewApplicationId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>v_NewOppID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>v_PAApplicantRecordTypeId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>v_PAApplicationRecordTypeId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>v_PAOppRecordTypeId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
