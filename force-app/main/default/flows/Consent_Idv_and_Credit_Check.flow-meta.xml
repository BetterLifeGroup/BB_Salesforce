<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>56.0</apiVersion>
    <assignments>
        <name>AssignVarsToSaveVar</name>
        <label>AssignVarsToSaveVar</label>
        <locationX>988</locationX>
        <locationY>834</locationY>
        <assignmentItems>
            <assignToReference>ApplicantRecord.idvFinalScore__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>UpdatedApplicantRecord.idvFinalScore__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Person_Account</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AssignVarsToSaveVar_0</name>
        <label>AssignVarsToSaveVar</label>
        <locationX>1919</locationX>
        <locationY>647</locationY>
        <assignmentItems>
            <assignToReference>CreditCheckDone</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Application</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AssignVarsToSaveVar_0_0</name>
        <label>AssignVarsToSaveVar</label>
        <locationX>783</locationX>
        <locationY>915</locationY>
        <assignmentItems>
            <assignToReference>idvDone</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>AssignVarsToSaveVar</targetReference>
        </connector>
    </assignments>
    <choices>
        <name>Customer_can_not_be_rehabilitated</name>
        <choiceText>Customer can not be rehabilitated</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Customer can not be rehabilitated</stringValue>
        </value>
    </choices>
    <choices>
        <name>Not_determined</name>
        <choiceText>Not determined</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Not determined</stringValue>
        </value>
    </choices>
    <choices>
        <name>Not_interested</name>
        <choiceText>Not interested</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Not interested</stringValue>
        </value>
    </choices>
    <choices>
        <name>Yes</name>
        <choiceText>Yes</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Yes</stringValue>
        </value>
    </choices>
    <decisions>
        <name>checkIdvAndCreditCheck</name>
        <label>checkIdvAndCreditCheck</label>
        <locationX>1428</locationX>
        <locationY>304</locationY>
        <defaultConnector>
            <targetReference>Update_Applicant_Status_Path</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>All done</defaultConnectorLabel>
        <rules>
            <name>DoConsent</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ApplicantRecord.Contact.Account.ConsentRequirementsMet__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ConsentViewerSub</targetReference>
            </connector>
            <label>DoConsent</label>
        </rules>
        <rules>
            <name>DoIDV</name>
            <conditionLogic>(1 AND 2 AND 5 AND 6) OR (3 AND 4 AND 5 AND 6)</conditionLogic>
            <conditions>
                <leftValueReference>ApplicantRecord.idvFinalScore__c</leftValueReference>
                <operator>LessThan</operator>
                <rightValue>
                    <numberValue>60.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>idvDone</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Person_Account.Identification_Number__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Person_Account.Passport_Number__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>UpdatedApplicantRecord.creditCheckScore__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ApplicantRecord.creditCheckScore__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>doIDVQuestions</targetReference>
            </connector>
            <label>DoIDV</label>
        </rules>
        <rules>
            <name>DoCreditCheck</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>CreditCheckDone</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ApplicantRecord.idvFinalScore__c</leftValueReference>
                <operator>GreaterThanOrEqualTo</operator>
                <rightValue>
                    <numberValue>60.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>UpdatedApplicantRecord.creditCheckScore__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ApplicantRecord.creditCheckScore__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>doCreditCheckScreen</targetReference>
            </connector>
            <label>DoCreditCheck</label>
        </rules>
        <rules>
            <name>DoCreditReport</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>CreditCheckDone</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>UpdatedApplicantRecord.creditCheckRagIndicator__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>UpdatedApplicantRecord_0</targetReference>
            </connector>
            <label>DoCreditReport</label>
        </rules>
    </decisions>
    <decisions>
        <name>Credit_color</name>
        <label>Credit color</label>
        <locationX>2023</locationX>
        <locationY>436</locationY>
        <defaultConnector>
            <targetReference>CreditReportScreen</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not Red</defaultConnectorLabel>
        <rules>
            <name>Red</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>UpdatedApplicantRecord_0.creditCheckRagIndicator__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Red</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>AssignVarsToSaveVar_0</targetReference>
            </connector>
            <label>Red</label>
        </rules>
    </decisions>
    <decisions>
        <name>Does_a_Co_Applicant_Exist</name>
        <label>Does a Co-Applicant Exist?</label>
        <locationX>1843</locationX>
        <locationY>1404</locationY>
        <defaultConnector>
            <targetReference>ragOutcomeSelect</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Co_Exists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Co_Applicant.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Applicant_Status_Path4_0</targetReference>
            </connector>
            <label>Co Exists</label>
        </rules>
    </decisions>
    <decisions>
        <name>Exit_Flow</name>
        <label>Exit Flow</label>
        <locationX>624</locationX>
        <locationY>401</locationY>
        <defaultConnector>
            <targetReference>Update_Applicant_Status_Path5</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>YesExit</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>ExitFlowConsentRefused</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>exitToFlow</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>IDV_Passed</name>
        <label>IDV Passed?</label>
        <locationX>777</locationX>
        <locationY>744</locationY>
        <defaultConnector>
            <targetReference>AssignVarsToSaveVar</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No, failed</defaultConnectorLabel>
        <rules>
            <name>Yes_passed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>UpdatedApplicantRecord.idvFinalScore__c</leftValueReference>
                <operator>GreaterThanOrEqualTo</operator>
                <rightValue>
                    <numberValue>60.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>AssignVarsToSaveVar_0_0</targetReference>
            </connector>
            <label>Yes,passed</label>
        </rules>
    </decisions>
    <decisions>
        <name>Interested_in_Internal_Rehab</name>
        <label>Interested in Internal Rehab?</label>
        <locationX>1839</locationX>
        <locationY>1686</locationY>
        <defaultConnector>
            <targetReference>Close_Open_Tasks_0_0</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Interested or Undetermined</defaultConnectorLabel>
        <rules>
            <name>NotInterested</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Based_on_the_credit_score_outcome_is_the_customer_interested_in_Internal_Rehab_0</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Not_interested</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Close_Open_Tasks_0</targetReference>
            </connector>
            <label>Not interested</label>
        </rules>
        <rules>
            <name>Can_not_be_rehabilitated</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Based_on_the_credit_score_outcome_is_the_customer_interested_in_Internal_Rehab_0</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Customer_can_not_be_rehabilitated</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Open_Task_Linked_to_Opp</targetReference>
            </connector>
            <label>Can not be rehabilitated</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Main_Applicant</name>
        <label>Is Main Applicant?</label>
        <locationX>1910</locationX>
        <locationY>1060</locationY>
        <defaultConnector>
            <targetReference>Update_Applicant_Status_Path4_0</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not Main Applicant</defaultConnectorLabel>
        <rules>
            <name>Yes_Main_Applicant</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ApplicantRecord.Is_Main_Applicant__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Rag_Indicator</targetReference>
            </connector>
            <label>Yes Main Applicant</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_running_user_and_Opp_Owner_match</name>
        <label>Is running user and Opp Owner match</label>
        <locationX>1092</locationX>
        <locationY>1486</locationY>
        <defaultConnector>
            <targetReference>Create_Pre_Approval_or_Bond_Foreign_Owner_True</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Owner No Match</defaultConnectorLabel>
        <rules>
            <name>Owner_Match</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$User.Id</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>ownerTrimFormula</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_Pre_Approval_or_Bond_Foreign_Owner_False</targetReference>
            </connector>
            <label>Owner Match</label>
        </rules>
    </decisions>
    <decisions>
        <name>Must_Exit_Flow</name>
        <label>Must Exit Flow?</label>
        <locationX>1061</locationX>
        <locationY>566</locationY>
        <defaultConnector>
            <targetReference>Update_Applicant_Status_Path3</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Yes</defaultConnectorLabel>
        <rules>
            <name>No</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ExitFlow</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>UpdatedApplicantRecord</targetReference>
            </connector>
            <label>No</label>
        </rules>
    </decisions>
    <decisions>
        <name>Rag_Indicator</name>
        <label>Rag Indicator</label>
        <locationX>1722</locationX>
        <locationY>1166</locationY>
        <defaultConnector>
            <targetReference>Update_Applicant_Status_Path4_0</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not Determined</defaultConnectorLabel>
        <rules>
            <name>Is_Red</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>UpdatedApplicantRecord_0.creditCheckRagIndicator__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Red</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Applicant_Poor_Credit</targetReference>
            </connector>
            <label>Is Red</label>
        </rules>
        <rules>
            <name>Is_Amber</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>UpdatedApplicantRecord_0.creditCheckRagIndicator__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Amber</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Co_Applicant</targetReference>
            </connector>
            <label>Is Amber</label>
        </rules>
        <rules>
            <name>Is_Green</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>UpdatedApplicantRecord_0.creditCheckRagIndicator__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Green</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Co_Applicant</targetReference>
            </connector>
            <label>Is Green</label>
        </rules>
        <rules>
            <name>Is_Red_Biometrics</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>UpdatedApplicantRecord_0.CreditCheckDate__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>UpdatedApplicantRecord_0.creditCheckScore__c</leftValueReference>
                <operator>LessThanOrEqualTo</operator>
                <rightValue>
                    <numberValue>678.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Applicant_Poor_Credit</targetReference>
            </connector>
            <label>Is Red Biometrics</label>
        </rules>
    </decisions>
    <decisions>
        <name>Rag_Outcome_Check</name>
        <label>Rag Outcome Check</label>
        <locationX>1622</locationX>
        <locationY>1541</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Proceed_with_PA</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>proceedPA.renderNext</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Opportunity_Awaiting_Docs</targetReference>
            </connector>
            <label>Proceed with PA</label>
        </rules>
        <rules>
            <name>Internal_Rehab</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>rehabInternal.renderNext</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Internal_Rehab_0</targetReference>
            </connector>
            <label>Internal Rehab</label>
        </rules>
        <rules>
            <name>Close_Opp</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>closeOppButton.renderNext</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>closeOffOpp</targetReference>
            </connector>
            <label>Close Opp</label>
        </rules>
    </decisions>
    <decisions>
        <name>Send_Email_or_Finish</name>
        <label>Send Email or Finish?</label>
        <locationX>1323</locationX>
        <locationY>1597</locationY>
        <defaultConnector>
            <targetReference>MC_Email_Template_Selection_Multi_select_picklist</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Send Email</defaultConnectorLabel>
        <rules>
            <name>Finish</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>finishBtn.renderNext</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <label>Finish</label>
        </rules>
        <rules>
            <name>Upload_OTP</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>uploadOTPBtn.renderNext</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Is_running_user_and_Opp_Owner_match</targetReference>
            </connector>
            <label>Upload OTP</label>
        </rules>
    </decisions>
    <description>Flow Description: Captures Consent IDV and Credit Check for Pre-Approval Applicants and is launched from the Wrap Up Opportunity H2 flow

Front-End Access: Work Opportunity button on the Opportunity page.</description>
    <environments>Default</environments>
    <formulas>
        <name>ownerTrimFormula</name>
        <dataType>String</dataType>
        <expression>LEFT({!Get_Opportunity.OwnerId},15)</expression>
    </formulas>
    <formulas>
        <name>ragSubject</name>
        <dataType>String</dataType>
        <expression>&quot;Credit Check Rag Indicator: &quot;+ {!UpdatedApplicantRecord_0.creditCheckRagIndicator__c}</expression>
    </formulas>
    <interviewLabel>Consent,Idv and Credit Check {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Consent, IDV and Credit Check</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordLookups>
        <name>ApplicantRecord</name>
        <label>ApplicantRecord</label>
        <locationX>1436</locationX>
        <locationY>181</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>checkIdvAndCreditCheck</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>LoanApplicant</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Application</name>
        <label>Get Application</label>
        <locationX>1918</locationX>
        <locationY>796</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Opportunity</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>UpdatedApplicantRecord_0.LoanApplicationId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>ResidentialLoanApplication</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Co_Applicant</name>
        <label>Get Co-Applicant</label>
        <locationX>1953</locationX>
        <locationY>1284</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Does_a_Co_Applicant_Exist</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SourceOpportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Opportunity.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Is_Main_Applicant__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>LoanApplicant</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Created_Bond</name>
        <label>Get Created Bond</label>
        <locationX>555</locationX>
        <locationY>1477</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Updated_General_Opp.Bond_Opportunity__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Opportunity</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Open_Task_Linked_to_Opp</name>
        <label>Get Open Task Linked to Opp</label>
        <locationX>2180</locationX>
        <locationY>1624</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Complete_Open_Task</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>WhatId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Opportunity.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Status</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Open</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Task</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Opportunity</name>
        <label>Get Opportunity</label>
        <locationX>1918</locationX>
        <locationY>919</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Is_Main_Applicant</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Application.OpportunityId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Opportunity</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Opportunity_Updated</name>
        <label>Get Opportunity Updated</label>
        <locationX>1330</locationX>
        <locationY>1306</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>oppLostScreen</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Opportunity.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Opportunity</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Person_Account</name>
        <label>Get Person Account</label>
        <locationX>1209</locationX>
        <locationY>834</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Update_Applicant_Status_Path4</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>UpdatedApplicantRecord.Contact.AccountId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Updated_General_Opp</name>
        <label>Get Updated General Opp</label>
        <locationX>695</locationX>
        <locationY>1477</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Created_Bond</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Opportunity.General_Opportunity__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Opportunity</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>UpdatedApplicantRecord</name>
        <label>UpdatedApplicantRecord</label>
        <locationX>931</locationX>
        <locationY>566</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>IDV_Passed</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>LoanApplicant</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>UpdatedApplicantRecord_0</name>
        <label>UpdatedApplicantRecord</label>
        <locationX>1874</locationX>
        <locationY>435</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Credit_color</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>LoanApplicant</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Close_Open_Tasks</name>
        <label>Close Open Tasks</label>
        <locationX>1410</locationX>
        <locationY>1031</locationY>
        <connector>
            <targetReference>Update_Opportunity_Lost_Poor_Credit</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>WhatId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Opportunity.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Status</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Open</stringValue>
            </value>
        </filters>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Completed</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>locked__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <object>Task</object>
    </recordUpdates>
    <recordUpdates>
        <name>Close_Open_Tasks_0</name>
        <label>Close Open Tasks</label>
        <locationX>1848</locationX>
        <locationY>1878</locationY>
        <connector>
            <targetReference>Update_Opportunity_Not_Interested_Rehab</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>WhatId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Opportunity.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Status</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Open</stringValue>
            </value>
        </filters>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Completed</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>locked__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <object>Task</object>
    </recordUpdates>
    <recordUpdates>
        <name>Close_Open_Tasks_0_0</name>
        <label>Close Open Tasks</label>
        <locationX>1978</locationX>
        <locationY>1832</locationY>
        <connector>
            <targetReference>Update_Opportunity_Rehab_Required</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>WhatId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Opportunity.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Status</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Open</stringValue>
            </value>
        </filters>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Completed</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>locked__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <object>Task</object>
    </recordUpdates>
    <recordUpdates>
        <name>Complete_Open_Task</name>
        <label>Complete Open Task</label>
        <locationX>2314</locationX>
        <locationY>1624</locationY>
        <connector>
            <targetReference>Update_Applicant_Poor_Credit_0</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Open_Task_Linked_to_Opp.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Completed</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>locked__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <object>Task</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Applicant_Poor_Credit</name>
        <label>Update Applicant Poor Credit</label>
        <locationX>1496</locationX>
        <locationY>1165</locationY>
        <connector>
            <targetReference>Close_Open_Tasks</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SourceOpportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Opportunity.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Is_Main_Applicant__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Poor Credit</stringValue>
            </value>
        </inputAssignments>
        <object>LoanApplicant</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Applicant_Poor_Credit_0</name>
        <label>Update Applicant Poor Credit</label>
        <locationX>2466</locationX>
        <locationY>1624</locationY>
        <connector>
            <targetReference>Update_Opportunity_to_Poor_Credit</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SourceOpportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Opportunity.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Is_Main_Applicant__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Poor Credit</stringValue>
            </value>
        </inputAssignments>
        <object>LoanApplicant</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Opportunity_Awaiting_Docs</name>
        <label>Update Opportunity Awaiting Docs</label>
        <locationX>1630</locationX>
        <locationY>1732</locationY>
        <connector>
            <targetReference>Update_Applicant_Status_Path4_0</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Opportunity.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Contact_Attempts__c</field>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>StageName</field>
            <value>
                <stringValue>Working</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>PA Requested - awaiting documents</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Wrap_Up_Reason__c</field>
            <value>
                <stringValue>Automated</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Opportunity_Closed</name>
        <label>Update Opportunity Closed</label>
        <locationX>1488</locationX>
        <locationY>1827</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Opportunity.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>StageName</field>
            <value>
                <elementReference>closed_Pick.topValue</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <elementReference>closed_Pick.middleValue</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Wrap_Up_Reason__c</field>
            <value>
                <stringValue>Automated</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Opportunity_Lost_Poor_Credit</name>
        <label>Update Opportunity Lost - Poor Credit</label>
        <locationX>1329</locationX>
        <locationY>1164</locationY>
        <connector>
            <targetReference>Get_Opportunity_Updated</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Opportunity.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>StageName</field>
            <value>
                <stringValue>Closed Lost</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Poor credit</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Wrap_Up_Reason__c</field>
            <value>
                <stringValue>Automated</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Opportunity_Not_Interested_Rehab</name>
        <label>Update Opportunity Not Interested Rehab</label>
        <locationX>1848</locationX>
        <locationY>2014</locationY>
        <connector>
            <targetReference>Update_Applicant_Status_Path4_0</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Opportunity.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>StageName</field>
            <value>
                <stringValue>Closed Lost</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>PA requested - not interested in internal rehab</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Wrap_Up_Reason__c</field>
            <value>
                <stringValue>Automated</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Opportunity_Rehab_Required</name>
        <label>Update Opportunity Rehab Required</label>
        <locationX>2118</locationX>
        <locationY>1832</locationY>
        <connector>
            <targetReference>Update_Applicant_Status_Path4_0</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Opportunity.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>StageName</field>
            <value>
                <stringValue>Working</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>PA requested - internal rehab required</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Wrap_Up_Reason__c</field>
            <value>
                <stringValue>Automated</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Opportunity_to_Poor_Credit</name>
        <label>Update Opportunity to Poor Credit</label>
        <locationX>2606</locationX>
        <locationY>1624</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Opportunity.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>StageName</field>
            <value>
                <stringValue>Closed Lost</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>PA requested - no internal rehab - poor credit</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Wrap_Up_Reason__c</field>
            <value>
                <stringValue>Automated</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <screens>
        <name>closeOffOpp</name>
        <label>closeOffOpp</label>
        <locationX>1488</locationX>
        <locationY>1674</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Update_Opportunity_Closed</targetReference>
        </connector>
        <fields>
            <name>displayConsent_0</name>
            <extensionName>c:flowBanner</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>label</name>
                <value>
                    <stringValue>Close Opportunity</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>closeOffOpp_Section1</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>closeOffOpp_Section1_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>oppDisplay</name>
                    <fieldText>&lt;p&gt;&lt;strong&gt;{!Get_Opportunity_Updated.Name}&lt;/strong&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>closeOffOpp_Section1_Column2</name>
                <fieldType>Region</fieldType>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
        </fields>
        <fields>
            <name>closed_Pick</name>
            <extensionName>flowruntime:dependentPicklists</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>dependencyWrapperApiName</name>
                <value>
                    <stringValue>Opportunity</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>topPicklistApiName</name>
                <value>
                    <stringValue>StageName</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>middlePicklistApiName</name>
                <value>
                    <stringValue>Status__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>topLabel</name>
                <value>
                    <stringValue>Stage</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>topValue</name>
                <value>
                    <stringValue>Closed Lost</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>middleLabel</name>
                <value>
                    <stringValue>Status</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>middleRequired</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>closedStageTxt</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(255, 0, 0);&quot;&gt;The Stage must be Closed Lost for this outcome.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <nextOrFinishButtonLabel>Close Opportunity</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>CreditReportScreen</name>
        <label>CreditReportScreen</label>
        <locationX>2137</locationX>
        <locationY>647</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>AssignVarsToSaveVar_0</targetReference>
        </connector>
        <fields>
            <name>reviewCreditReport</name>
            <extensionName>c:flowBanner</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>label</name>
                <value>
                    <stringValue>Review Credit Report</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>PDFViewer</name>
            <extensionName>c:pdfViewerSimple</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>mode</name>
                <value>
                    <stringValue>Credit Report</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>recordId</name>
                <value>
                    <elementReference>ApplicantRecord.Id</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>doCreditCheckScreen</name>
        <label>doCreditCheckScreen</label>
        <locationX>1722</locationX>
        <locationY>515</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>UpdatedApplicantRecord_0</targetReference>
        </connector>
        <fields>
            <name>creditCheck</name>
            <extensionName>c:flowBanner</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>label</name>
                <value>
                    <stringValue>Credit Check</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>CreditCheckLWC</name>
            <extensionName>c:creditCheck</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>recordId</name>
                <value>
                    <elementReference>ApplicantRecord.Id</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>doIDVQuestions</name>
        <label>doIDVQuestions</label>
        <locationX>1068</locationX>
        <locationY>446</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Must_Exit_Flow</targetReference>
        </connector>
        <fields>
            <name>idvQuestions</name>
            <extensionName>c:flowBanner</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>label</name>
                <value>
                    <stringValue>Applicant ID</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>idvLWC</name>
            <extensionName>c:idvQuestionsViewer</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>recordId</name>
                <value>
                    <elementReference>ApplicantRecord.Id</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>consentRefused</name>
                <value>
                    <elementReference>ConsentRefused</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>ExitFlow</assignToReference>
                <name>mustExitFlow</name>
            </outputParameters>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Internal_Rehab_0</name>
        <label>Internal Rehab</label>
        <locationX>1847</locationX>
        <locationY>1543</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Interested_in_Internal_Rehab</targetReference>
        </connector>
        <fields>
            <name>internalRehab_0</name>
            <extensionName>c:flowBanner</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>label</name>
                <value>
                    <elementReference>ragSubject</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>CreditCheckRagIndicator_0</name>
            <fieldText>&lt;p&gt;Choose one of the following options based on the credit score and report outcome:&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Based_on_the_credit_score_outcome_is_the_customer_interested_in_Internal_Rehab_0</name>
            <choiceReferences>Yes</choiceReferences>
            <choiceReferences>Not_interested</choiceReferences>
            <choiceReferences>Not_determined</choiceReferences>
            <choiceReferences>Customer_can_not_be_rehabilitated</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Based on the credit score outcome, is the customer interested in Internal Rehab?</fieldText>
            <fieldType>RadioButtons</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <nextOrFinishButtonLabel>Save and Close</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>oppLostScreen</name>
        <label>oppLostScreen</label>
        <locationX>1331</locationX>
        <locationY>1456</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Send_Email_or_Finish</targetReference>
        </connector>
        <fields>
            <name>consentBanner</name>
            <extensionName>c:customFlowBanner</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>label</name>
                <value>
                    <stringValue>Consent, IDV and Credit Check</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cssCustomStyle</name>
                <value>
                    <stringValue>margin-bottom: 8px</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>lostDisplay</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;span class=&quot;ql-cursor&quot;&gt;&lt;/span&gt;&lt;/span&gt;The Opportunity stage for &lt;strong&gt;{!Get_Opportunity_Updated.Name} &lt;/strong&gt;has been updated to Closed Lost:&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Status: &lt;/strong&gt;{!Get_Opportunity_Updated.Status__c}&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Credit Check Result:&lt;/strong&gt; &lt;strong style=&quot;color: rgb(255, 0, 0);&quot;&gt;Red&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>sendEmailBtn</name>
            <extensionName>runtime_industries_lending:flowButton</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>buttonLabel</name>
                <value>
                    <stringValue>Send Customer Email</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>finishBtn</name>
            <extensionName>runtime_industries_lending:flowButton</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>buttonLabel</name>
                <value>
                    <stringValue>Close Without Sending Email</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>renderNext</name>
                <value>
                    <booleanValue>false</booleanValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>uploadOTPBtn</name>
            <extensionName>runtime_industries_lending:flowButton</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>buttonLabel</name>
                <value>
                    <stringValue>Convert to Bond Opportunity</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <nextOrFinishButtonLabel>Close</nextOrFinishButtonLabel>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ragOutcomeSelect</name>
        <label>ragOutcomeSelect</label>
        <locationX>1630</locationX>
        <locationY>1402</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Rag_Outcome_Check</targetReference>
        </connector>
        <fields>
            <name>internalRehab</name>
            <extensionName>c:flowBanner</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>label</name>
                <value>
                    <elementReference>ragSubject</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>CreditCheckRagIndicator</name>
            <fieldText>&lt;p&gt;Choose one of the following options based on the credit score and report outcome:&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>proceedPA</name>
            <extensionName>runtime_industries_lending:flowButton</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>buttonLabel</name>
                <value>
                    <stringValue>Proceed with Pre-Approval</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>rehabInternal</name>
            <extensionName>runtime_industries_lending:flowButton</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>buttonLabel</name>
                <value>
                    <stringValue>Internal Rehab</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Get_Opportunity.Name</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>Internal Rehab Hide</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>closeOppButton</name>
            <extensionName>runtime_industries_lending:flowButton</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>buttonLabel</name>
                <value>
                    <stringValue>Close Opportunity</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <start>
        <locationX>1310</locationX>
        <locationY>48</locationY>
        <connector>
            <targetReference>ApplicantRecord</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <subflows>
        <name>ConsentViewerSub</name>
        <label>ConsentViewerSub</label>
        <locationX>920</locationX>
        <locationY>297</locationY>
        <connector>
            <targetReference>Exit_Flow</targetReference>
        </connector>
        <flowName>Consent_Viewer</flowName>
        <inputAssignments>
            <name>applicantId</name>
            <value>
                <elementReference>ApplicantRecord.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>ApplicantRecord.Id</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>ConsentRefused</assignToReference>
            <name>ConsentRefused</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>ExitFlowConsentRefused</assignToReference>
            <name>ExitFlowConsentRefused</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>exitToFlow</assignToReference>
            <name>exitToFlowVar</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>Create_Pre_Approval_or_Bond_Foreign_Owner_False</name>
        <label>Create Pre-Approval or Bond  Foreign Owner False</label>
        <locationX>892</locationX>
        <locationY>1542</locationY>
        <connector>
            <targetReference>Get_Updated_General_Opp</targetReference>
        </connector>
        <flowName>Create_Pre_Approval_or_Bond_Opportunity_H2</flowName>
        <inputAssignments>
            <name>foreignOwner</name>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>paOrBond</name>
            <value>
                <stringValue>Bond</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>Get_Opportunity.General_Opportunity__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>selectedPAIdVar</name>
            <value>
                <elementReference>Get_Opportunity.Id</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>Create_Pre_Approval_or_Bond_Foreign_Owner_True</name>
        <label>Create Pre-Approval or Bond  Foreign Owner True</label>
        <locationX>853</locationX>
        <locationY>1389</locationY>
        <connector>
            <targetReference>Get_Updated_General_Opp</targetReference>
        </connector>
        <flowName>Create_Pre_Approval_or_Bond_Opportunity_H2</flowName>
        <inputAssignments>
            <name>foreignOwner</name>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>paOrBond</name>
            <value>
                <stringValue>Bond</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>Get_Opportunity.General_Opportunity__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>selectedPAIdVar</name>
            <value>
                <elementReference>Get_Opportunity.Id</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>MC_Email_Template_Selection_Multi_select_picklist</name>
        <label>MC Email Template Selection - Multi select picklist</label>
        <locationX>1107</locationX>
        <locationY>1647</locationY>
        <flowName>MC_Email_Template_Selection_Multi_select_picklist</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>Get_Opportunity_Updated.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>Update_Applicant_Status_Path</name>
        <label>Update Applicant Status Path</label>
        <locationX>2036</locationX>
        <locationY>294</locationY>
        <flowName>Update_Applicant_Status_Path</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>ApplicantRecord.SourceOpportunity__c</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>Update_Applicant_Status_Path3</name>
        <label>Update Applicant Status Path</label>
        <locationX>1193</locationX>
        <locationY>686</locationY>
        <flowName>Update_Applicant_Status_Path</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>ApplicantRecord.SourceOpportunity__c</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>Update_Applicant_Status_Path4</name>
        <label>Update Applicant Status Path</label>
        <locationX>1436</locationX>
        <locationY>834</locationY>
        <connector>
            <targetReference>checkIdvAndCreditCheck</targetReference>
        </connector>
        <flowName>Update_Applicant_Status_Path</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>ApplicantRecord.SourceOpportunity__c</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>Update_Applicant_Status_Path4_0</name>
        <label>Update Applicant Status Path</label>
        <locationX>2606</locationX>
        <locationY>1447</locationY>
        <flowName>Update_Applicant_Status_Path</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>ApplicantRecord.SourceOpportunity__c</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>Update_Applicant_Status_Path5</name>
        <label>Update Applicant Status Path</label>
        <locationX>632</locationX>
        <locationY>181</locationY>
        <connector>
            <targetReference>ApplicantRecord</targetReference>
        </connector>
        <flowName>Update_Applicant_Status_Path</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>ApplicantRecord.SourceOpportunity__c</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <variables>
        <name>ConsentRefused</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>convertToBondBool</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>CreditCheckDone</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>ExitFlow</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>ExitFlowConsentRefused</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>exitToFlow</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>idvDone</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>subflowContext</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>true</booleanValue>
        </value>
    </variables>
</Flow>
