<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>57.0</apiVersion>
    <choices>
        <name>abc</name>
        <choiceText>Complete Verification</choiceText>
        <dataType>Boolean</dataType>
        <value>
            <elementReference>completeVerification</elementReference>
        </value>
    </choices>
    <choices>
        <name>Application_Verification_Failed</name>
        <choiceText>Application Verification Failed</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Application Verification Failed</stringValue>
        </value>
    </choices>
    <choices>
        <name>Application_Verification_Successful</name>
        <choiceText>Application Verification Successful</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Application Verification Successful</stringValue>
        </value>
    </choices>
    <choices>
        <name>Complete_Verification</name>
        <choiceText>Complete Verification</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Complete Verification</stringValue>
        </value>
    </choices>
    <choices>
        <name>Credit_Profile</name>
        <choiceText>Credit Profile</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>PA Requested - Verification failed - credit profile</stringValue>
        </value>
    </choices>
    <choices>
        <name>Documents</name>
        <choiceText>Documents</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>PA Requested - Verification failed - documents</stringValue>
        </value>
    </choices>
    <choices>
        <name>No_Affordability</name>
        <choiceText>No Affordability</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>PA Requested - Verification failed - no affordability</stringValue>
        </value>
    </choices>
    <choices>
        <name>Revisit_Applicant_s</name>
        <choiceText>Revisit Applicant(s)</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Revisit Applicant(s)</stringValue>
        </value>
    </choices>
    <choices>
        <name>revisitChoiceVar</name>
        <choiceText>Revisit Applicant(s)</choiceText>
        <dataType>Boolean</dataType>
        <value>
            <booleanValue>true</booleanValue>
        </value>
    </choices>
    <choices>
        <name>Value</name>
        <choiceText>Value</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>PA Requested - Verification failed - value</stringValue>
        </value>
    </choices>
    <choices>
        <name>VerificationFailed</name>
        <choiceText>Verification Failed</choiceText>
        <dataType>Boolean</dataType>
        <value>
            <booleanValue>true</booleanValue>
        </value>
    </choices>
    <choices>
        <name>verificationSuccessful</name>
        <choiceText>Verification Successful</choiceText>
        <dataType>Boolean</dataType>
        <value>
            <booleanValue>true</booleanValue>
        </value>
    </choices>
    <description>Flow Description: Review/Amends financial information. Launched by Applicant Next Step flow to validate the financial information captured on the Case once Verification is completed. 

Front-End Access: Work Opportunity button on the Opportunity page.</description>
    <environments>Default</environments>
    <formulas>
        <name>verificationTaskSubject</name>
        <dataType>String</dataType>
        <expression>&quot;Follow Up Call: 1&quot; + &quot; - Pre-Approval Verification - &quot; + {!Get_ApplicantforAmend.Opportunity__r.Name}</expression>
    </formulas>
    <interviewLabel>Applicant Financial Validation SubFlow {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Applicant Financial Validation SubFlow</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordLookups>
        <name>Get_ApplicantforAmend</name>
        <label>Get Applicant</label>
        <locationX>1019</locationX>
        <locationY>1498</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>incomeScreen</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>LoanApplicant</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <screens>
        <name>contractualScreen</name>
        <label>contractualScreen</label>
        <locationX>1096</locationX>
        <locationY>1898</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>existingExposureScreen</targetReference>
        </connector>
        <fields>
            <name>contractualLWC</name>
            <extensionName>c:applicantFinancialDetails</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>loanApplicantId</name>
                <value>
                    <elementReference>Get_ApplicantforAmend.Id</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>mode</name>
                <value>
                    <stringValue>contractualExpenses</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>recordId</name>
                <value>
                    <elementReference>Get_ApplicantforAmend.Id</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>runningNotes</name>
                <value>
                    <elementReference>runningNotes</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>showRunningNotes</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>runningNotes</assignToReference>
                <name>runningNotes</name>
            </outputParameters>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>deductionsScreen</name>
        <label>deductionsScreen</label>
        <locationX>870</locationX>
        <locationY>2022</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>livingExpensesScreen</targetReference>
        </connector>
        <fields>
            <name>deductionsLWC</name>
            <extensionName>c:applicantFinancialDetails</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>loanApplicantId</name>
                <value>
                    <elementReference>Get_ApplicantforAmend.Id</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>mode</name>
                <value>
                    <stringValue>deductions</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>recordId</name>
                <value>
                    <elementReference>Get_ApplicantforAmend.Id</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>runningNotes</name>
                <value>
                    <elementReference>runningNotes</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>showRunningNotes</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>runningNotes</assignToReference>
                <name>runningNotes</name>
            </outputParameters>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>existingExposureScreen</name>
        <label>existingExposureScreen</label>
        <locationX>1201</locationX>
        <locationY>1811</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>existingExposureLWC</name>
            <extensionName>c:applicantFinancialDetails</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>loanApplicantId</name>
                <value>
                    <elementReference>Get_ApplicantforAmend.Id</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>mode</name>
                <value>
                    <stringValue>existingExposure</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>recordId</name>
                <value>
                    <elementReference>Get_ApplicantforAmend.Id</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>showRunningNotes</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>runningNotes</name>
                <value>
                    <elementReference>runningNotes</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>runningNotes</assignToReference>
                <name>runningNotes</name>
            </outputParameters>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>incomeScreen</name>
        <label>incomeScreen</label>
        <locationX>752</locationX>
        <locationY>2096</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>deductionsScreen</targetReference>
        </connector>
        <fields>
            <name>incomeLWC</name>
            <extensionName>c:applicantFinancialDetails</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>loanApplicantId</name>
                <value>
                    <elementReference>Get_ApplicantforAmend.Id</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>mode</name>
                <value>
                    <stringValue>income</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>recordId</name>
                <value>
                    <elementReference>Get_ApplicantforAmend.Id</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>showRunningNotes</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>runningNotes</name>
                <value>
                    <elementReference>runningNotes</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>runningNotes</assignToReference>
                <name>runningNotes</name>
            </outputParameters>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>livingExpensesScreen</name>
        <label>livingExpensesScreen</label>
        <locationX>977</locationX>
        <locationY>1964</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>contractualScreen</targetReference>
        </connector>
        <fields>
            <name>livingExpensesLWC</name>
            <extensionName>c:applicantFinancialDetails</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>loanApplicantId</name>
                <value>
                    <elementReference>Get_ApplicantforAmend.Id</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>mode</name>
                <value>
                    <stringValue>livingExpenses</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>recordId</name>
                <value>
                    <elementReference>Get_ApplicantforAmend.Id</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>showRunningNotes</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>runningNotes</name>
                <value>
                    <elementReference>runningNotes</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>runningNotes</assignToReference>
                <name>runningNotes</name>
            </outputParameters>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <start>
        <locationX>485</locationX>
        <locationY>1382</locationY>
        <connector>
            <targetReference>Get_ApplicantforAmend</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <variables>
        <name>applicantOutstanding</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>completeVerification</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>displayNoRunningNotesError</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>opportunityId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>oppVerificationFailed</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>revisitChoice</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>runningNotes</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue></stringValue>
        </value>
    </variables>
    <variables>
        <name>SelectedApplicantToRevisit</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>LoanApplicant</objectType>
    </variables>
</Flow>
